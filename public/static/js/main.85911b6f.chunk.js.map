{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","onClick","isSelected","type","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","data","Footer","date","Date","getFullYear","PopupWithForm","isOpen","onClose","title","method","onSubmit","noValidate","children","buttonTitle","ImagePopup","Input","handleChange","rest","onChange","event","target","value","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","createRef","current","ref","AddPlacePopup","setLink","api","token","cohortID","baseURL","this","_baseURL","_cohortID","_token","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","statusText","all","getUserInfo","getInitialCards","body","JSON","stringify","cardId","httpMethod","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","getAllNeededData","userInfo","initialCards","catch","err","console","log","Provider","logo","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setUserInfo","saveCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85911b6f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.3841b2bf.svg\";","function Header(props) {\r\n  return(\r\n    <header className=\"header\">\r\n      <img\r\n        src={props.src}\r\n        alt={props.alt}\r\n        className=\"header__logo\"\r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `cards__delete-button ${!isOwn && 'cards__delete-button_hidden'}`\r\n  ); \r\n  const cardLikeButtonClassName = `cards__like ${isLiked && 'cards__like_active'}`;\r\n\r\n  function handleClick() {\r\n    onCardClick({\r\n      card, \r\n      isSelected: true\r\n    });\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n  \r\n  return (\r\n    <li className=\"cards__item\">\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"cards__photo\"\r\n        onClick={ handleClick }\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        name=\"delete-button\"\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <div className=\"cards__description\">\r\n        <p className=\"cards__location\">{card.name}</p>\r\n        <div className=\"cards__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            name=\"like-button\"\r\n            onClick={handleLikeClick}\r\n          />\r\n          <span className=\"cards__like-counter\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__cover-avatar\"\r\n          onClick={ props.onEditAvatar }\r\n        >\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Фотография пользователя\"\r\n            className=\"profile__avatar\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__person\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              name=\"edit-button\"\r\n              onClick={ props.onEditProfile }\r\n            />\r\n          </div>\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          name=\"add-button\"\r\n          onClick={ props.onAddPlace }\r\n        />\r\n      </section>\r\n      <section className=\"cards\">\r\n        <ul className=\"cards__grid\">\r\n          {props.cards.map((data) => (\r\n              <Card\r\n                key={data._id}\r\n                card={data}\r\n                onCardClick={ props.onCardClick }\r\n                onCardLike={ props.onCardLike }\r\n                onCardDelete={ props.onCardDelete }\r\n              />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  const date = new Date();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; {date.getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n\r\n  return(\r\n    <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button\"\r\n          name={`${props.name}-close-btn`}\r\n          onClick={props.onClose}\r\n        />\r\n        <h2 className=\"popup__title\">{props.title}</h2>\r\n        <form\r\n          className=\"popup__form\"\r\n          method=\"POST\"\r\n          name={`${ props.name }-form`} \r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          {props.children}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__save-button\"\r\n            name=\"save-button\">{props.buttonTitle}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n  return(\r\n    <div className={`popup popup_type_photo ${props.card && 'popup_opened'}`}>\r\n      <div className=\"popup__photo-container\">\r\n        <img \r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup__photo\"\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button\"\r\n          name=\"photo-close-button\"\r\n          onClick={props.onClose}\r\n        />\r\n        <h2 className=\"popup__title-photo\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","function Input({handleChange, ...rest}) {\r\n  return (\r\n    <input \r\n      onChange={event => handleChange(event.target.value)}\r\n      {...rest}\r\n    />\r\n  )\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport Input from './Input';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [description, setDescription] = React.useState(currentUser.about);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n    onClose();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(currentUser) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [currentUser]); \r\n\r\n  return(\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonTitle=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <Input\r\n          id=\"name-input\"\r\n          className=\"popup__input popup__input_el_name\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={name || ''}\r\n          handleChange={setName}\r\n        />\r\n        <span id=\"name-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <Input\r\n          id=\"job-input\"\r\n          className=\"popup__input popup__input_el_job\"\r\n          type=\"text\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          value={description || ''}\r\n          handleChange={setDescription}\r\n        />\r\n        <span id=\"job-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar }) {\r\n\r\n  const avatarRef = React.createRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n  \r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n    onClose();\r\n    avatarRef.current.value = '';\r\n  } \r\n\r\n  return(\r\n    <PopupWithForm\r\n      name=\"update-avatar\"\r\n      title=\"Обновить аватар\"\r\n      buttonTitle=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          ref={avatarRef}\r\n          id=\"link-input\"\r\n          className=\"popup__input popup__input_el_link\"\r\n          type=\"url\"\r\n          name=\"avatar\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span id=\"link-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport Input from './Input';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name,\r\n      link\r\n    });\r\n\r\n    onClose();\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n      name=\"add-card\"\r\n      title=\"Новое место\"\r\n      buttonTitle=\"Создать\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit = {handleSubmit}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <Input\r\n          id=\"place-input\"\r\n          className=\"popup__input popup__input_el_place\"\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          value={name}\r\n          handleChange={setName}\r\n          required\r\n        />\r\n        <span id=\"place-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <Input\r\n          id=\"link-input\"\r\n          className=\"popup__input popup__input_el_link\"\r\n          type=\"url\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          value={link}\r\n          handleChange={setLink}\r\n          required\r\n        />\r\n        <span id=\"link-input-error\" className=\"popup__input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n  constructor({ token, cohortID, baseURL }) {\r\n    this._baseURL = baseURL;\r\n    this._cohortID = cohortID;\r\n    this._token = token;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseURL}/v1/${this._cohortID}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      });\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseURL}/v1/${this._cohortID}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      });\r\n  }\r\n\r\n  getAllNeededData() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n\r\n  setUserInfo({name, about}) {\r\n    return fetch(`${this._baseURL}/v1/${this._cohortID}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      });\r\n  }\r\n\r\n  setAvatar({avatar}) {\r\n    return fetch(`${this._baseURL}/v1/${this._cohortID}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      })\r\n  }\r\n\r\n  saveCard({name, link}) {\r\n    return fetch(`${this._baseURL}/v1/${this._cohortID}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseURL}/v1/${this._cohortID}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    const httpMethod = isLiked ? 'PUT' : 'DELETE';\r\n    return fetch(\r\n      `${this._baseURL}/v1/${this._cohortID}/cards/likes/${cardId}`,\r\n      {\r\n        method: httpMethod,\r\n        headers: {\r\n          authorization: this._token,\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status} ${res.statusText}`);\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  token: \"37682f5b-4bfd-4bac-9745-591da8798f65\",\r\n  cohortID: \"cohort-18\",\r\n  baseURL: \"https://mesto.nomoreparties.co\",\r\n});\r\n\r\nexport default api;","import React from 'react';\nimport logo from '../images/header-logo.svg';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nimport api from '../utils/api';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({card: {}, isSelected: false});\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api.getAllNeededData()\n      .then(([userInfo, initialCards]) => {\n        setCurrentUser(userInfo);\n        setCards(initialCards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard({card: {}, isSelected: false});\n  }\n\n  function handleCardClick(data) {\n    setSelectedCard(data);\n  }\n\n  function handleUpdateUser({name, about}) {\n    api.setUserInfo({name, about})\n      .then(res => setCurrentUser(res))\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.setAvatar({avatar})\n      .then(res => setCurrentUser(res))\n      .catch(err => console.log(err));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  } \n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleAddPlaceSubmit({name, link}) {\n    api.saveCard({name, link})\n      .then(newCard => setCards([newCard, ...cards]))\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Header alt=\"Логотип Mesto\" src={logo} />\n          <Main\n            onEditProfile={ handleEditProfileClick }\n            onAddPlace={ handleAddPlaceClick }\n            onEditAvatar={ handleEditAvatarClick }\n            onCardClick={ handleCardClick }\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            onClose={closeAllPopups} \n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen} \n            onClose={closeAllPopups} \n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onClose={closeAllPopups} \n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <PopupWithForm\n            name=\"delete-card\"\n            title=\"Вы уверены?\"\n            buttonTitle=\"Да\"\n          />\n          <ImagePopup \n            card={selectedCard.isSelected && selectedCard.card}\n            onClose={ closeAllPopups }\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}